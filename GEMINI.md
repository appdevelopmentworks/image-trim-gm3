# GEMINI.md - プロジェクト状況

これは、AI（Gemini）が現在のプロジェクト状況を把握し、開発を円滑に進めるためのドキュメントです。

## 1. プロジェクト概要

- **プロジェクト名:** `image-trim-gm3`
- **目的:** クリエイター向けの画像リサイズ・トリミングを行うデスクトップアプリケーション。
- **特徴:**
    - 複数の画像を一度に処理できる。
    - 指定したサイズに画像をリサイズ・中央トリミングする。
    - Electronによるクロスプラットフォーム対応（Windows, macOS）。
    - 画像処理はすべてクライアントサイドで完結し、プライバシーを保護。

## 2. 技術スタック

- **フレームワーク:** Electron, React
- **言語:** TypeScript
- **ビルドツール:** esbuild
- **UI:**
    - スタイリング: Tailwind CSS
    - UIコンポーネント: shadcn/ui
- **状態管理:** Zustand
- **国際化 (i18n):** i18next
- **パッケージマネージャー:** npm

## 3. ディレクトリ構成（主要部分）

```
.
├── dist/                 # ビルド後の成果物
├── main.js               # Electron メインプロセス
├── index.html            # レンダラープロセスのエントリーポイント
├── package.json          # プロジェクト設定・依存関係
├── src/
│   ├── App.tsx           # Reactアプリケーションのメインコンポーネント
│   ├── index.tsx         # Reactのレンダリング開始点
│   ├── i18n.ts           # 国際化設定
│   ├── store.ts          # Zustand 状態管理ストア
│   ├── components/       # Reactコンポーネント
│   │   ├── features/     # 機能単位のコンポーネント (Dropzone, ImageGridなど)
│   │   ├── layout/       # レイアウトコンポーネント (Header, Sidebar)
│   │   └── ui/           # shadcn/uiベースのUI部品
│   ├── lib/              # ビジネスロジック (画像処理、ダウンロード)
│   └── types/            # 型定義
└── public/
    └── locales/          # 翻訳ファイル (en, ja)
```

## 4. 実行方法

以下のコマンドでアプリケーションを起動します。

```bash
npm start
```

## 5. 現状の実装状況

- **基盤構築:**
    - Electron + React + TypeScriptのプロジェクト雛形が完成。
    - esbuildによるビルド設定済み。
- **UI:**
    - `Header`, `Sidebar`, `Dropzone`, `ImageGrid` などの主要なUIコンポーネントの実装が完了。
    - `Dropzone`: クリック選択とドラッグ＆ドロップに対応。
    - `ImageCard`: プレビュー表示、削除、編集ボタン（UIのみ）を実装。
    - `Sidebar`: 設定変更と処理実行トリガーを実装。
    - `CropModal`: `react-easy-crop` を用いたトリミング・ズーム編集UIを実装済み。
- **機能:**
    - **画像処理:** Canvas APIを用いたリサイズ・トリミングロジック実装済み。
    - **ダウンロード:** `jszip` を用いた一括ZIPダウンロード機能実装済み。
    - **状態管理:** Zustandによる画像リストと設定の管理ロジック実装済み。`persist` ミドルウェアにより設定を永続化。
    - **通知:** `sonner` を用いたトースト通知を実装済み。
- **国際化 (i18n):**
    - 日本語・英語対応済み。
- **パッケージング:**
    - `electron-builder` の設定を `package.json` に追加済み。

## 6. 次のステップ（完了確認フェーズ）

1.  **最終動作確認:**
    - `npm start` でアプリを起動し、全ての機能（画像追加、トリミング編集、設定変更、処理実行、ZIPダウンロード、通知、言語切り替え）が正常に動作することを確認する。
2.  **パッケージング:**
    - `npm run dist` を実行し、インストーラー（`.exe` / `.dmg`）が生成されることを確認する。
    - 生成されたインストーラーからアプリをインストールし、起動できることを確認する。

## 7. 開発完了宣言

MVP（Minimum Viable Product）として計画された全ての機能実装とUI改善が完了しました。
- [x] 基本的な画像処理機能
- [x] 一括ZIPダウンロード
- [x] トリミング・ズーム編集機能
- [x] 設定の永続化
- [x] モダンなUIデザイン (Tailwind CSS + shadcn/ui)
- [x] 日本語/英語対応 (i18n)
- [x] ユーザー通知 (sonner)
- [x] Electronパッケージング設定